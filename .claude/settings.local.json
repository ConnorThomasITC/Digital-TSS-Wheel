{
  "permissions": {
    "allow": [
      "Bash(npm install:*)",
      "Bash(where:*)",
      "Bash(ls:*)",
      "Bash(cd:*)",
      "Bash(npm run db:seed)",
      "Bash(cat:*)",
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "Bash(git push:*)",
      "Bash(npx tsc --noEmit)",
      "Bash(sqlite3:*)",
      "Bash(node -e:*)",
      "Bash(docker build:*)",
      "Bash(docker run:*)",
      "Bash(curl:*)",
      "Bash(gh run list:*)",
      "Bash(gh run view:*)",
      "Bash(sshpass -p 'RXaGy2Mu2pMi3Ikh' ssh -o StrictHostKeyChecking=no root@62.100.206.163 \"echo ''Connected successfully'' && uname -a\")",
      "Bash(sshpass -p 'RXaGy2Mu2pMi3Ikh' ssh root@62.100.206.163 \"which docker && docker --version || echo ''Docker not installed''\")",
      "Bash(sshpass -p 'RXaGy2Mu2pMi3Ikh' ssh root@62.100.206.163 \"dnf install -y dnf-plugins-core && dnf config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo && dnf install -y docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin && systemctl start docker && systemctl enable docker && docker --version\")",
      "Bash(sshpass -p 'RXaGy2Mu2pMi3Ikh' ssh root@62.100.206.163 \"dnf install -y nginx certbot python3-certbot-nginx && systemctl start nginx && systemctl enable nginx\")",
      "Bash(sshpass -p 'RXaGy2Mu2pMi3Ikh' ssh root@62.100.206.163 \"dnf install -y epel-release && dnf install -y nginx certbot python3-certbot-nginx && systemctl start nginx && systemctl enable nginx\")",
      "Bash(sshpass -p 'RXaGy2Mu2pMi3Ikh' ssh root@62.100.206.163 \"/usr/bin/crb enable && dnf install -y nginx certbot python3-certbot-nginx && systemctl start nginx && systemctl enable nginx\")",
      "Bash(sshpass -p 'RXaGy2Mu2pMi3Ikh' ssh root@62.100.206.163 \"dnf install -y nginx && systemctl start nginx && systemctl enable nginx\")",
      "Bash(sshpass -p 'RXaGy2Mu2pMi3Ikh' ssh root@62.100.206.163 \"dnf install -y certbot python3-certbot-nginx\")",
      "Bash(sshpass -p 'RXaGy2Mu2pMi3Ikh' ssh root@62.100.206.163 \"firewall-cmd --permanent --add-service=http && firewall-cmd --permanent --add-service=https && firewall-cmd --reload\")",
      "Bash(sshpass -p 'RXaGy2Mu2pMi3Ikh' ssh root@62.100.206.163 \"docker pull ghcr.io/connorthomasitc/digital-tss-wheel:0.0.1\")",
      "Bash(sshpass -p 'RXaGy2Mu2pMi3Ikh' ssh root@62.100.206.163 \"docker run -d --name tss-wheel --restart unless-stopped -p 127.0.0.1:3000:3000 -v /var/lib/tss-wheel:/app/data ghcr.io/connorthomasitc/digital-tss-wheel:0.0.1 && docker ps\")",
      "Bash(sshpass -p 'RXaGy2Mu2pMi3Ikh' ssh root@62.100.206.163 \"cat > /etc/nginx/conf.d/tss-wheel.conf << ''EOF''\nserver {\n    listen 80;\n    server_name tss.connorthomas.com;\n\n    location / {\n        proxy_pass http://127.0.0.1:3000;\n        proxy_http_version 1.1;\n        proxy_set_header Upgrade $http_upgrade;\n        proxy_set_header Connection ''upgrade'';\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n        proxy_cache_bypass $http_upgrade;\n    }\n}\nEOF\nnginx -t && systemctl reload nginx\")",
      "Bash(dig:*)",
      "Bash(nslookup:*)",
      "Bash(sshpass -p 'RXaGy2Mu2pMi3Ikh' ssh root@62.100.206.163 \"certbot --nginx -d tss.connorthomas.com --non-interactive --agree-tos --email admin@connorthomas.com --redirect\")",
      "Bash(sshpass -p 'RXaGy2Mu2pMi3Ikh' ssh root@62.100.206.163 \"systemctl start certbot-renew.timer && systemctl enable certbot-renew.timer\")",
      "Bash(sshpass -p 'RXaGy2Mu2pMi3Ikh' ssh root@62.100.206.163 \"setsebool -P httpd_can_network_connect 1 && systemctl restart nginx\")",
      "Bash(sshpass -p 'RXaGy2Mu2pMi3Ikh' ssh root@62.100.206.163 \"docker logs tss-wheel --tail 30\")",
      "Bash(sshpass -p 'RXaGy2Mu2pMi3Ikh' ssh root@62.100.206.163 \"ls -la /var/lib/tss-wheel/ && docker exec tss-wheel ls -la /app/data/\")",
      "Bash(sshpass -p 'RXaGy2Mu2pMi3Ikh' ssh root@62.100.206.163 \"docker exec tss-wheel node /app/src/lib/init-db.js && docker exec tss-wheel node /app/src/lib/seed.js && docker exec tss-wheel ls -la /app/data/\")",
      "Bash(sshpass -p 'RXaGy2Mu2pMi3Ikh' ssh root@62.100.206.163 \"chown -R 1001:1001 /var/lib/tss-wheel && chmod 755 /var/lib/tss-wheel && docker restart tss-wheel && sleep 2 && docker exec tss-wheel node /app/src/lib/init-db.js && docker exec tss-wheel node /app/src/lib/seed.js\")"
    ]
  }
}
